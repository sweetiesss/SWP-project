@using Azure;
@model IEnumerable<Topic>

@{
    ViewData["Title"] = "All Assignments";
    Layout = "_Layout";
    List<Topic> TopicList = (List<Topic>)ViewData["TopicList"];
    String cookie = ViewData["cookie"].ToString();

}
<h1>@cookie</h1>
<h2>Topic</h2>
<a asp-action="AddTopic" class="btn btn-sm bg-white" style="background-color:#4db749!important; color:white!important; border-radius:12px;">Add Topic</a>
<br />
@*
<form asp-controller="Home" asp-action="GetTask" method="">
    <p>
        Search by Name: <input type="text" name="Name" required />
        <input class="btn btn-sm btn-primary" type="submit" value="Filter" />
    </p>
</form>
*@
@if (TopicList != null)
{
    <table class="table table-hover table-sm  table-bordered m-2"
           style="-moz-box-shadow: 0 0 5px #888; -webkit-box-shadow: 0 0 5px#888; box-shadow: 0 0 5px #888;">
        <thead style="background-color:lightgrey;color:black;">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Descripton</th>
                <th>LecturerId</th>
                <th>Approval</th>
                <th>Update</th>
                <th>Delete</th>
            </tr>
        </thead>
        <tbody>

            @foreach (var r in TopicList)
            {
                <tr>
@*                    @{
                        var assignmentStudent = AssignmentStudentList.Where(p => p.TaskId.Equals(r.Id) &&
                        p.StudentId.Equals(cookieValue)).FirstOrDefault();
                    }*@
                    <td>@r.Id</td>
                    <td>@r.Name</td>
                    <td>@r.Description</td>
                    <td>@r.LecturerId</td>
                    <td>@r.Approval</td>
                    <td>
                        <form asp-action="UpdateTopic" method="">
                            <input type="hidden" value="@r.Id" name="id" />
                            <button style="background-color:#4db749; color:white; border-radius:12px;" type="submit" class="btn btn-sm">Update</button>
                        </form>
                    </td>
                    <td>
                        <form asp-action="DeleteTopic" method="post">
                            <input type="hidden" value="@r.Id" name="id" />
                            <button style="background-color:#4db749;color:white; border-radius:12px;" type="submit" class="btn btn-sm">Delete</button>
                        </form>
                    </td>
                </tr>
            }


        </tbody>
    </table>
}
else
{
    <div> No topic available</div>
}
